{"ast":null,"code":"import _toConsumableArray from \"/Users/God/Desktop/github/mtndream/MtnDream/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _objectSpread from \"/Users/God/Desktop/github/mtndream/MtnDream/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _regeneratorRuntime from \"/Users/God/Desktop/github/mtndream/MtnDream/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/God/Desktop/github/mtndream/MtnDream/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"/Users/God/Desktop/github/mtndream/MtnDream/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/God/Desktop/github/mtndream/MtnDream/client/src/Context/EditorContext.js\";\nimport React, { useState, createContext, useEffect } from 'react';\nimport { initialPreview, initialImg, initialArticle } from './Services/EditorServices';\nexport var EditorContext = createContext();\nexport var EditorProvider = function EditorProvider(_ref) {\n  var children = _ref.children;\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      editMode = _useState2[0],\n      setEditMode = _useState2[1];\n\n  var _useState3 = useState(''),\n      _useState4 = _slicedToArray(_useState3, 2),\n      articleList = _useState4[0],\n      setArticleList = _useState4[1];\n\n  var _useState5 = useState(initialArticle),\n      _useState6 = _slicedToArray(_useState5, 2),\n      article = _useState6[0],\n      setArticle = _useState6[1]; // Once component mounts it will fetch a list of the\n  // top ten most recent articles\n\n\n  useEffect(function () {\n    handleList();\n  }, []);\n  useEffect(function () {\n    if (article.body.length === 1) console.log(article.body[0]);\n    console.log(article.body[0], article.body[1]);\n  }, [article]);\n\n  var handleList =\n  /*#__PURE__*/\n  function () {\n    var _ref2 = _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee() {\n      var _ref3, handleFetchList, result;\n\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return import(\"./Services/EditorServices\");\n\n            case 2:\n              _ref3 = _context.sent;\n              handleFetchList = _ref3.handleFetchList;\n              _context.next = 6;\n              return handleFetchList();\n\n            case 6:\n              result = _context.sent;\n              setArticleList(result);\n\n            case 8:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function handleList() {\n      return _ref2.apply(this, arguments);\n    };\n  }(); // Function toggles edit mode on or off\n\n\n  var handleMode = function handleMode() {\n    return setEditMode(!editMode);\n  }; // Once the user clicks on the article they wish to edit, it will then\n  // grab the article elements and set them to state.\n\n\n  var editArticle =\n  /*#__PURE__*/\n  function () {\n    var _ref4 = _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee2(title) {\n      var _ref5, fetchEditArticle, result;\n\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              if (!(title === 'new')) {\n                _context2.next = 2;\n                break;\n              }\n\n              return _context2.abrupt(\"return\");\n\n            case 2:\n              _context2.next = 4;\n              return import(\"./Services/EditorServices\");\n\n            case 4:\n              _ref5 = _context2.sent;\n              fetchEditArticle = _ref5.fetchEditArticle;\n              _context2.next = 8;\n              return fetchEditArticle(title);\n\n            case 8:\n              result = _context2.sent;\n              setArticle(_objectSpread({}, article, result));\n\n            case 10:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function editArticle(_x) {\n      return _ref4.apply(this, arguments);\n    };\n  }(); // Once the user clicks on any element. The \"section mode\" will\n  // switch to the appropriate state to handle further edits within the element\n\n\n  var handleSectionMode = function handleSectionMode(newSection) {\n    setArticle(_objectSpread({}, article, {\n      sectionMode: _objectSpread({}, article.sectionMode, {\n        El: newSection\n      })\n    }));\n  }; // This function will set the Title state to published if the article\n  // was successfully stored within the database\n\n\n  var setPublished = function setPublished() {\n    setArticle(_objectSpread({}, article, {\n      title: _objectSpread({}, article.title, {\n        isPublished: true\n      })\n    }));\n  }; // This function will create a new body element within the state\n\n\n  var handleNewBody = function handleNewBody() {\n    var newBody = article.body;\n    newBody.push(initialPreview);\n    setArticle(_objectSpread({}, article, {\n      body: newBody\n    }));\n  }; // This function will create a new Image element within the\n  // Body and update the state\n\n\n  var newImgEl = function newImgEl() {\n    var newBody = article.body;\n    newBody.push(_objectSpread({}, initialImg));\n    setArticle(_objectSpread({}, article, {\n      body: newBody\n    }));\n  }; // This function will check which section the user has selected and\n  // update the state with the new input\n\n\n  var handleInput = function handleInput(value, section, passedBody) {\n    console.log(passedBody);\n    var newBody = passedBody;\n    var newResult = newBody[1];\n    newResult.text = \"plz\";\n    newBody[1] = newResult; // const { handleInputSwitch } = await import(\"./Services/EditorServices\");\n    // const result = handleInputSwitch(value, section, newArticle);\n\n    console.log(newBody);\n    setArticle(_objectSpread({}, article, {\n      body: newBody\n    }));\n  }; // This function will check which section the user is in and\n  // change the font value to the selected font\n\n\n  var handleFont =\n  /*#__PURE__*/\n  function () {\n    var _ref6 = _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee3(newFont) {\n      var _ref7, handleFontSwitch, result;\n\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.next = 2;\n              return import(\"./Services/EditorServices\");\n\n            case 2:\n              _ref7 = _context3.sent;\n              handleFontSwitch = _ref7.handleFontSwitch;\n              result = handleFontSwitch(newFont, article);\n              setArticle(result);\n\n            case 6:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }));\n\n    return function handleFont(_x2) {\n      return _ref6.apply(this, arguments);\n    };\n  }(); // This function will check with section the user is in\n  // and update the value with the new selected value\n\n\n  var handleStyling =\n  /*#__PURE__*/\n  function () {\n    var _ref8 = _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee4(style) {\n      var _ref9, handleStylingSwitch, result;\n\n      return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              _context4.next = 2;\n              return import(\"./Services/EditorServices\");\n\n            case 2:\n              _ref9 = _context4.sent;\n              handleStylingSwitch = _ref9.handleStylingSwitch;\n              result = handleStylingSwitch(style, article);\n              setArticle(result);\n\n            case 6:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee4);\n    }));\n\n    return function handleStyling(_x3) {\n      return _ref8.apply(this, arguments);\n    };\n  }(); // This function will check with section the user is in\n  // and update the value with the new selected value\n\n\n  var handleJustify =\n  /*#__PURE__*/\n  function () {\n    var _ref10 = _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee5(justification) {\n      var _ref11, handleJustifySwitch, result;\n\n      return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n        while (1) {\n          switch (_context5.prev = _context5.next) {\n            case 0:\n              _context5.next = 2;\n              return import(\"./Services/EditorServices\");\n\n            case 2:\n              _ref11 = _context5.sent;\n              handleJustifySwitch = _ref11.handleJustifySwitch;\n              result = handleJustifySwitch(justification, article);\n              setArticle(result);\n\n            case 6:\n            case \"end\":\n              return _context5.stop();\n          }\n        }\n      }, _callee5);\n    }));\n\n    return function handleJustify(_x4) {\n      return _ref10.apply(this, arguments);\n    };\n  }(); // This function will check with section the user is in\n  // and update the value with the new selected value\n\n\n  var handleTextStyle =\n  /*#__PURE__*/\n  function () {\n    var _ref12 = _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee6(style) {\n      var _ref13, handleTextStyleSwitch, result;\n\n      return _regeneratorRuntime.wrap(function _callee6$(_context6) {\n        while (1) {\n          switch (_context6.prev = _context6.next) {\n            case 0:\n              _context6.next = 2;\n              return import(\"./Services/EditorServices\");\n\n            case 2:\n              _ref13 = _context6.sent;\n              handleTextStyleSwitch = _ref13.handleTextStyleSwitch;\n              result = handleTextStyleSwitch(style, article);\n              setArticle(result);\n\n            case 6:\n            case \"end\":\n              return _context6.stop();\n          }\n        }\n      }, _callee6);\n    }));\n\n    return function handleTextStyle(_x5) {\n      return _ref12.apply(this, arguments);\n    };\n  }(); // This function will check with section the user is in\n  // and update the value with the new selected value\n\n\n  var handleTextColor =\n  /*#__PURE__*/\n  function () {\n    var _ref14 = _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee7(color) {\n      var _ref15, handleTextColorSwitch, result;\n\n      return _regeneratorRuntime.wrap(function _callee7$(_context7) {\n        while (1) {\n          switch (_context7.prev = _context7.next) {\n            case 0:\n              _context7.next = 2;\n              return import(\"./Services/EditorServices\");\n\n            case 2:\n              _ref15 = _context7.sent;\n              handleTextColorSwitch = _ref15.handleTextColorSwitch;\n              result = handleTextColorSwitch(color, article);\n              setArticle(result);\n\n            case 6:\n            case \"end\":\n              return _context7.stop();\n          }\n        }\n      }, _callee7);\n    }));\n\n    return function handleTextColor(_x6) {\n      return _ref14.apply(this, arguments);\n    };\n  }(); // This function will check with section the user is in\n  // and update the value with the new selected value\n\n\n  var handleMarginTop = function handleMarginTop(e) {\n    var _article$sectionMode = article.sectionMode,\n        el = _article$sectionMode.el,\n        index = _article$sectionMode.index;\n\n    if (el === 'title') {\n      return setArticle(_objectSpread({}, article, {\n        title: _objectSpread({}, article.title, {\n          marginTop: e.target.value\n        })\n      }));\n    } else if (el === 'body' || el === 'image') {\n      var newBody = article.body;\n      newBody[index].marginTop = e.target.value;\n      return setArticle(_objectSpread({}, article, {\n        body: _toConsumableArray(newBody)\n      }));\n    }\n  }; // This function will check with section the user is in\n  // and update the value with the new selected value\n\n\n  var handleMarginBottom = function handleMarginBottom(e) {\n    var _article$sectionMode2 = article.sectionMode,\n        el = _article$sectionMode2.el,\n        index = _article$sectionMode2.index;\n\n    if (el === 'title') {\n      return setArticle(_objectSpread({}, article, {\n        title: _objectSpread({}, article.title, {\n          marginBottom: e.target.value\n        })\n      }));\n    } else if (el === 'body' || el === 'image') {\n      var newBody = article.body;\n      newBody[index].marginBottom = e.target.value;\n      return setArticle(_objectSpread({}, article, {\n        body: _toConsumableArray(newBody)\n      }));\n    }\n  }; // All functions and variables listed will be shared with the child consumers\n\n\n  return React.createElement(EditorContext.Provider, {\n    value: {\n      handleInput: handleInput,\n      handleStyling: handleStyling,\n      handleFont: handleFont,\n      handleJustify: handleJustify,\n      handleTextStyle: handleTextStyle,\n      handleTextColor: handleTextColor,\n      handleMarginTop: handleMarginTop,\n      handleMarginBottom: handleMarginBottom,\n      handleMode: handleMode,\n      handleSectionMode: handleSectionMode,\n      setPublished: setPublished,\n      articleList: articleList,\n      editMode: editMode,\n      editArticle: editArticle,\n      handleNewBody: handleNewBody,\n      newImgEl: newImgEl,\n      body: article.body,\n      title: article.title,\n      jumbotron: article.jumbotron,\n      readLength: article.readLength,\n      description: article.description,\n      sectionMode: article.sectionMode\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174\n    },\n    __self: this\n  }, children);\n};","map":{"version":3,"sources":["/Users/God/Desktop/github/mtndream/MtnDream/client/src/Context/EditorContext.js"],"names":["React","useState","createContext","useEffect","initialPreview","initialImg","initialArticle","EditorContext","EditorProvider","children","editMode","setEditMode","articleList","setArticleList","article","setArticle","handleList","body","length","console","log","handleFetchList","result","handleMode","editArticle","title","fetchEditArticle","handleSectionMode","newSection","sectionMode","El","setPublished","isPublished","handleNewBody","newBody","push","newImgEl","handleInput","value","section","passedBody","newResult","text","handleFont","newFont","handleFontSwitch","handleStyling","style","handleStylingSwitch","handleJustify","justification","handleJustifySwitch","handleTextStyle","handleTextStyleSwitch","handleTextColor","color","handleTextColorSwitch","handleMarginTop","e","el","index","marginTop","target","handleMarginBottom","marginBottom","jumbotron","readLength","description"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,aAA1B,EAAyCC,SAAzC,QAA0D,OAA1D;AACA,SAASC,cAAT,EAAyBC,UAAzB,EAAqCC,cAArC,QAA2D,2BAA3D;AAEA,OAAO,IAAMC,aAAa,GAAGL,aAAa,EAAnC;AAEP,OAAO,IAAMM,cAAc,GAAG,SAAjBA,cAAiB,OAAkB;AAAA,MAAfC,QAAe,QAAfA,QAAe;;AAAA,kBAEZR,QAAQ,CAAC,KAAD,CAFI;AAAA;AAAA,MAErCS,QAFqC;AAAA,MAE3BC,WAF2B;;AAAA,mBAGNV,QAAQ,CAAC,EAAD,CAHF;AAAA;AAAA,MAGrCW,WAHqC;AAAA,MAGxBC,cAHwB;;AAAA,mBAIdZ,QAAQ,CAACK,cAAD,CAJM;AAAA;AAAA,MAIrCQ,OAJqC;AAAA,MAI5BC,UAJ4B,kBAM5C;AACA;;;AACAZ,EAAAA,SAAS,CAAC,YAAM;AAAEa,IAAAA,UAAU;AAAI,GAAvB,EAAyB,EAAzB,CAAT;AAEAb,EAAAA,SAAS,CAAC,YAAM;AACZ,QAAIW,OAAO,CAACG,IAAR,CAAaC,MAAb,KAAwB,CAA5B,EAA+BC,OAAO,CAACC,GAAR,CAAYN,OAAO,CAACG,IAAR,CAAa,CAAb,CAAZ;AAE/BE,IAAAA,OAAO,CAACC,GAAR,CAAYN,OAAO,CAACG,IAAR,CAAa,CAAb,CAAZ,EAA6BH,OAAO,CAACG,IAAR,CAAa,CAAb,CAA7B;AACH,GAJQ,EAIN,CAACH,OAAD,CAJM,CAAT;;AAMA,MAAME,UAAU;AAAA;AAAA;AAAA;AAAA;AAAA,6BAAG;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACmB,OAAO,2BAAP,CADnB;;AAAA;AAAA;AACPK,cAAAA,eADO,SACPA,eADO;AAAA;AAAA,qBAEMA,eAAe,EAFrB;;AAAA;AAETC,cAAAA,MAFS;AAGfT,cAAAA,cAAc,CAACS,MAAD,CAAd;;AAHe;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAAVN,UAAU;AAAA;AAAA;AAAA,KAAhB,CAhB4C,CAsB5C;;;AACA,MAAMO,UAAU,GAAG,SAAbA,UAAa;AAAA,WAAMZ,WAAW,CAAC,CAACD,QAAF,CAAjB;AAAA,GAAnB,CAvB4C,CAyB5C;AACA;;;AACA,MAAMc,WAAW;AAAA;AAAA;AAAA;AAAA;AAAA,6BAAG,kBAAOC,KAAP;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA,oBACZA,KAAK,KAAK,KADE;AAAA;AAAA;AAAA;;AAAA;;AAAA;AAAA;AAAA,qBAEmB,OAAO,2BAAP,CAFnB;;AAAA;AAAA;AAERC,cAAAA,gBAFQ,SAERA,gBAFQ;AAAA;AAAA,qBAGKA,gBAAgB,CAACD,KAAD,CAHrB;;AAAA;AAGVH,cAAAA,MAHU;AAKhBP,cAAAA,UAAU,mBAAMD,OAAN,EAAkBQ,MAAlB,EAAV;;AALgB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAAXE,WAAW;AAAA;AAAA;AAAA,KAAjB,CA3B4C,CAmC5C;AACA;;;AACA,MAAMG,iBAAiB,GAAG,SAApBA,iBAAoB,CAACC,UAAD,EAAgB;AACtCb,IAAAA,UAAU,mBACHD,OADG;AAENe,MAAAA,WAAW,oBAAOf,OAAO,CAACe,WAAf;AAA4BC,QAAAA,EAAE,EAAEF;AAAhC;AAFL,OAAV;AAIH,GALD,CArC4C,CA4C5C;AACA;;;AACA,MAAMG,YAAY,GAAG,SAAfA,YAAe,GAAM;AACvBhB,IAAAA,UAAU,mBACHD,OADG;AAENW,MAAAA,KAAK,oBAAOX,OAAO,CAACW,KAAf;AAAsBO,QAAAA,WAAW,EAAE;AAAnC;AAFC,OAAV;AAIH,GALD,CA9C4C,CAqD5C;;;AACA,MAAMC,aAAa,GAAG,SAAhBA,aAAgB,GAAM;AACxB,QAAMC,OAAO,GAAGpB,OAAO,CAACG,IAAxB;AACAiB,IAAAA,OAAO,CAACC,IAAR,CAAa/B,cAAb;AACAW,IAAAA,UAAU,mBACHD,OADG;AAENG,MAAAA,IAAI,EAAEiB;AAFA,OAAV;AAIH,GAPD,CAtD4C,CA+D5C;AACA;;;AACA,MAAME,QAAQ,GAAG,SAAXA,QAAW,GAAM;AACnB,QAAMF,OAAO,GAAGpB,OAAO,CAACG,IAAxB;AACAiB,IAAAA,OAAO,CAACC,IAAR,mBAAkB9B,UAAlB;AACAU,IAAAA,UAAU,mBACHD,OADG;AAENG,MAAAA,IAAI,EAAEiB;AAFA,OAAV;AAIH,GAPD,CAjE4C,CA0E5C;AACA;;;AACA,MAAMG,WAAW,GAAG,SAAdA,WAAc,CAACC,KAAD,EAAQC,OAAR,EAAiBC,UAAjB,EAAgC;AAChDrB,IAAAA,OAAO,CAACC,GAAR,CAAYoB,UAAZ;AACA,QAAIN,OAAO,GAAGM,UAAd;AACA,QAAIC,SAAS,GAAGP,OAAO,CAAC,CAAD,CAAvB;AACAO,IAAAA,SAAS,CAACC,IAAV,GAAiB,KAAjB;AACAR,IAAAA,OAAO,CAAC,CAAD,CAAP,GAAaO,SAAb,CALgD,CAMhD;AACA;;AACAtB,IAAAA,OAAO,CAACC,GAAR,CAAYc,OAAZ;AACAnB,IAAAA,UAAU,mBAAMD,OAAN;AAAeG,MAAAA,IAAI,EAAEiB;AAArB,OAAV;AACH,GAVD,CA5E4C,CAwF5C;AACA;;;AACA,MAAMS,UAAU;AAAA;AAAA;AAAA;AAAA;AAAA,6BAAG,kBAAQC,OAAR;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACoB,OAAO,2BAAP,CADpB;;AAAA;AAAA;AACPC,cAAAA,gBADO,SACPA,gBADO;AAETvB,cAAAA,MAFS,GAEAuB,gBAAgB,CAACD,OAAD,EAAU9B,OAAV,CAFhB;AAGfC,cAAAA,UAAU,CAACO,MAAD,CAAV;;AAHe;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAAVqB,UAAU;AAAA;AAAA;AAAA,KAAhB,CA1F4C,CAgG5C;AACA;;;AACA,MAAMG,aAAa;AAAA;AAAA;AAAA;AAAA;AAAA,6BAAG,kBAAOC,KAAP;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACoB,OAAO,2BAAP,CADpB;;AAAA;AAAA;AACVC,cAAAA,mBADU,SACVA,mBADU;AAEZ1B,cAAAA,MAFY,GAEH0B,mBAAmB,CAACD,KAAD,EAAQjC,OAAR,CAFhB;AAGlBC,cAAAA,UAAU,CAACO,MAAD,CAAV;;AAHkB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAAbwB,aAAa;AAAA;AAAA;AAAA,KAAnB,CAlG4C,CAwG5C;AACA;;;AACA,MAAMG,aAAa;AAAA;AAAA;AAAA;AAAA;AAAA,6BAAG,kBAAOC,aAAP;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACoB,OAAO,2BAAP,CADpB;;AAAA;AAAA;AACVC,cAAAA,mBADU,UACVA,mBADU;AAEZ7B,cAAAA,MAFY,GAEH6B,mBAAmB,CAACD,aAAD,EAAgBpC,OAAhB,CAFhB;AAGlBC,cAAAA,UAAU,CAACO,MAAD,CAAV;;AAHkB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAAb2B,aAAa;AAAA;AAAA;AAAA,KAAnB,CA1G4C,CAgH5C;AACA;;;AACA,MAAMG,eAAe;AAAA;AAAA;AAAA;AAAA;AAAA,6BAAG,kBAAOL,KAAP;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACoB,OAAO,2BAAP,CADpB;;AAAA;AAAA;AACZM,cAAAA,qBADY,UACZA,qBADY;AAEd/B,cAAAA,MAFc,GAEL+B,qBAAqB,CAACN,KAAD,EAAQjC,OAAR,CAFhB;AAGpBC,cAAAA,UAAU,CAACO,MAAD,CAAV;;AAHoB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAAf8B,eAAe;AAAA;AAAA;AAAA,KAArB,CAlH4C,CAwH5C;AACA;;;AACA,MAAME,eAAe;AAAA;AAAA;AAAA;AAAA;AAAA,6BAAG,kBAAOC,KAAP;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACoB,OAAO,2BAAP,CADpB;;AAAA;AAAA;AACZC,cAAAA,qBADY,UACZA,qBADY;AAEdlC,cAAAA,MAFc,GAELkC,qBAAqB,CAACD,KAAD,EAAQzC,OAAR,CAFhB;AAGpBC,cAAAA,UAAU,CAACO,MAAD,CAAV;;AAHoB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAAfgC,eAAe;AAAA;AAAA;AAAA,KAArB,CA1H4C,CAgI5C;AACA;;;AACA,MAAMG,eAAe,GAAG,SAAlBA,eAAkB,CAACC,CAAD,EAAO;AAAA,+BACL5C,OAAO,CAACe,WADH;AAAA,QACnB8B,EADmB,wBACnBA,EADmB;AAAA,QACfC,KADe,wBACfA,KADe;;AAE3B,QAAID,EAAE,KAAK,OAAX,EAAoB;AAChB,aAAO5C,UAAU,mBACVD,OADU;AAEbW,QAAAA,KAAK,oBACEX,OAAO,CAACW,KADV;AAEDoC,UAAAA,SAAS,EAAEH,CAAC,CAACI,MAAF,CAASxB;AAFnB;AAFQ,SAAjB;AAOH,KARD,MAQO,IAAMqB,EAAE,KAAK,MAAR,IAAoBA,EAAE,KAAK,OAAhC,EAA2C;AAC9C,UAAIzB,OAAO,GAAGpB,OAAO,CAACG,IAAtB;AACAiB,MAAAA,OAAO,CAAC0B,KAAD,CAAP,CAAeC,SAAf,GAA2BH,CAAC,CAACI,MAAF,CAASxB,KAApC;AACA,aAAOvB,UAAU,mBAAMD,OAAN;AAAeG,QAAAA,IAAI,qBAAOiB,OAAP;AAAnB,SAAjB;AACH;AACJ,GAfD,CAlI4C,CAmJ5C;AACA;;;AACA,MAAM6B,kBAAkB,GAAG,SAArBA,kBAAqB,CAACL,CAAD,EAAO;AAAA,gCACR5C,OAAO,CAACe,WADA;AAAA,QACtB8B,EADsB,yBACtBA,EADsB;AAAA,QAClBC,KADkB,yBAClBA,KADkB;;AAE9B,QAAID,EAAE,KAAK,OAAX,EAAoB;AAChB,aAAO5C,UAAU,mBACVD,OADU;AAEbW,QAAAA,KAAK,oBACEX,OAAO,CAACW,KADV;AAEDuC,UAAAA,YAAY,EAAEN,CAAC,CAACI,MAAF,CAASxB;AAFtB;AAFQ,SAAjB;AAOH,KARD,MAQO,IAAMqB,EAAE,KAAK,MAAR,IAAoBA,EAAE,KAAK,OAAhC,EAA2C;AAC9C,UAAIzB,OAAO,GAAGpB,OAAO,CAACG,IAAtB;AACAiB,MAAAA,OAAO,CAAC0B,KAAD,CAAP,CAAeI,YAAf,GAA8BN,CAAC,CAACI,MAAF,CAASxB,KAAvC;AACA,aAAOvB,UAAU,mBAAMD,OAAN;AAAeG,QAAAA,IAAI,qBAAOiB,OAAP;AAAnB,SAAjB;AACH;AACJ,GAfD,CArJ4C,CAsK5C;;;AACA,SACI,oBAAC,aAAD,CAAe,QAAf;AACI,IAAA,KAAK,EAAE;AACHG,MAAAA,WAAW,EAAXA,WADG;AAEHS,MAAAA,aAAa,EAAbA,aAFG;AAGHH,MAAAA,UAAU,EAAVA,UAHG;AAIHM,MAAAA,aAAa,EAAbA,aAJG;AAKHG,MAAAA,eAAe,EAAfA,eALG;AAMHE,MAAAA,eAAe,EAAfA,eANG;AAOHG,MAAAA,eAAe,EAAfA,eAPG;AAQHM,MAAAA,kBAAkB,EAAlBA,kBARG;AASHxC,MAAAA,UAAU,EAAVA,UATG;AAUHI,MAAAA,iBAAiB,EAAjBA,iBAVG;AAWHI,MAAAA,YAAY,EAAZA,YAXG;AAYHnB,MAAAA,WAAW,EAAXA,WAZG;AAaHF,MAAAA,QAAQ,EAARA,QAbG;AAcHc,MAAAA,WAAW,EAAXA,WAdG;AAeHS,MAAAA,aAAa,EAAbA,aAfG;AAgBHG,MAAAA,QAAQ,EAARA,QAhBG;AAiBHnB,MAAAA,IAAI,EAAEH,OAAO,CAACG,IAjBX;AAkBHQ,MAAAA,KAAK,EAAEX,OAAO,CAACW,KAlBZ;AAmBHwC,MAAAA,SAAS,EAAEnD,OAAO,CAACmD,SAnBhB;AAoBHC,MAAAA,UAAU,EAAEpD,OAAO,CAACoD,UApBjB;AAqBHC,MAAAA,WAAW,EAAErD,OAAO,CAACqD,WArBlB;AAsBHtC,MAAAA,WAAW,EAAEf,OAAO,CAACe;AAtBlB,KADX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KA0BKpB,QA1BL,CADJ;AA8BH,CArMM","sourcesContent":["import React, { useState, createContext, useEffect } from 'react';\nimport { initialPreview, initialImg, initialArticle } from './Services/EditorServices';\n\nexport const EditorContext = createContext();\n\nexport const EditorProvider = ({ children }) => {\n\n    const [editMode, setEditMode] = useState(false);\n    const [articleList, setArticleList] = useState('');\n    const [article, setArticle] = useState(initialArticle);\n    \n    // Once component mounts it will fetch a list of the\n    // top ten most recent articles\n    useEffect(() => { handleList() }, []);\n\n    useEffect(() => {\n        if (article.body.length === 1) console.log(article.body[0]);\n        \n        console.log(article.body[0], article.body[1]);\n    }, [article]);\n\n    const handleList = async () => {\n        const { handleFetchList } = await import(\"./Services/EditorServices\");\n        const result = await handleFetchList();\n        setArticleList(result);\n    };\n\n    // Function toggles edit mode on or off\n    const handleMode = () => setEditMode(!editMode);\n\n    // Once the user clicks on the article they wish to edit, it will then\n    // grab the article elements and set them to state.\n    const editArticle = async (title) => {\n        if (title === 'new') return; \n        const { fetchEditArticle } = await import(\"./Services/EditorServices\");\n        const result = await fetchEditArticle(title);\n\n        setArticle({ ...article, ...result });\n    };\n\n    // Once the user clicks on any element. The \"section mode\" will\n    // switch to the appropriate state to handle further edits within the element\n    const handleSectionMode = (newSection) => {\n        setArticle({\n            ...article,\n            sectionMode: { ...article.sectionMode, El: newSection }\n        });\n    };\n\n    // This function will set the Title state to published if the article\n    // was successfully stored within the database\n    const setPublished = () => {\n        setArticle({\n            ...article,\n            title: { ...article.title, isPublished: true }\n        });\n    };\n\n    // This function will create a new body element within the state\n    const handleNewBody = () => {\n        const newBody = article.body;\n        newBody.push(initialPreview);\n        setArticle({\n            ...article,\n            body: newBody\n        });\n    };\n\n    // This function will create a new Image element within the\n    // Body and update the state\n    const newImgEl = () => {\n        const newBody = article.body;\n        newBody.push({ ...initialImg });\n        setArticle({\n            ...article,\n            body: newBody\n        });\n    };\n\n    // This function will check which section the user has selected and\n    // update the state with the new input\n    const handleInput = (value, section, passedBody) => {\n        console.log(passedBody);\n        let newBody = passedBody;\n        let newResult = newBody[1];\n        newResult.text = \"plz\";\n        newBody[1] = newResult;\n        // const { handleInputSwitch } = await import(\"./Services/EditorServices\");\n        // const result = handleInputSwitch(value, section, newArticle);\n        console.log(newBody);\n        setArticle({ ...article, body: newBody });\n    };\n\n    // This function will check which section the user is in and\n    // change the font value to the selected font\n    const handleFont = async ( newFont ) => {\n        const { handleFontSwitch } = await import(\"./Services/EditorServices\");\n        const result = handleFontSwitch(newFont, article);\n        setArticle(result);\n    };\n\n    // This function will check with section the user is in\n    // and update the value with the new selected value\n    const handleStyling = async (style) => {\n        const { handleStylingSwitch } = await import(\"./Services/EditorServices\");\n        const result = handleStylingSwitch(style, article);\n        setArticle(result);\n    };\n\n    // This function will check with section the user is in\n    // and update the value with the new selected value\n    const handleJustify = async (justification) => {\n        const { handleJustifySwitch } = await import(\"./Services/EditorServices\");\n        const result = handleJustifySwitch(justification, article);\n        setArticle(result);\n    };\n\n    // This function will check with section the user is in\n    // and update the value with the new selected value\n    const handleTextStyle = async (style) => {\n        const { handleTextStyleSwitch } = await import(\"./Services/EditorServices\");\n        const result = handleTextStyleSwitch(style, article);\n        setArticle(result);\n    };\n\n    // This function will check with section the user is in\n    // and update the value with the new selected value\n    const handleTextColor = async (color) => {\n        const { handleTextColorSwitch } = await import(\"./Services/EditorServices\");\n        const result = handleTextColorSwitch(color, article);\n        setArticle(result);\n    };\n\n    // This function will check with section the user is in\n    // and update the value with the new selected value\n    const handleMarginTop = (e) => {\n        const { el, index } = article.sectionMode;\n        if (el === 'title') {\n            return setArticle({\n                ...article,\n                title: {\n                    ...article.title,\n                    marginTop: e.target.value\n                }\n            });\n        } else if ( (el === 'body') || (el === 'image') ) {\n            let newBody = article.body;\n            newBody[index].marginTop = e.target.value;\n            return setArticle({ ...article, body: [ ...newBody ] });\n        }\n    };\n\n    // This function will check with section the user is in\n    // and update the value with the new selected value\n    const handleMarginBottom = (e) => {\n        const { el, index } = article.sectionMode;\n        if (el === 'title') {\n            return setArticle({\n                ...article,\n                title: {\n                    ...article.title,\n                    marginBottom: e.target.value \n                }\n            });\n        } else if ( (el === 'body') || (el === 'image') ) {\n            let newBody = article.body;\n            newBody[index].marginBottom = e.target.value;\n            return setArticle({ ...article, body: [ ...newBody ] });\n        }\n    };\n\n    // All functions and variables listed will be shared with the child consumers\n    return (\n        <EditorContext.Provider\n            value={{\n                handleInput,\n                handleStyling,\n                handleFont,\n                handleJustify,\n                handleTextStyle,\n                handleTextColor,\n                handleMarginTop,\n                handleMarginBottom,\n                handleMode,\n                handleSectionMode,\n                setPublished,\n                articleList,\n                editMode,\n                editArticle,\n                handleNewBody,\n                newImgEl,\n                body: article.body,\n                title: article.title,\n                jumbotron: article.jumbotron,\n                readLength: article.readLength,\n                description: article.description,\n                sectionMode: article.sectionMode\n            }}\n        >\n            {children}\n        </EditorContext.Provider>\n    );\n};\n"]},"metadata":{},"sourceType":"module"}